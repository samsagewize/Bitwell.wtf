<!DOCTYPE html>
<html>
<head>
    <title>Welcome to Bitwell</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Architects+Daughter&display=swap');
        
        body {
            font-family: 'Architects Daughter', cursive;
            text-align: center;
            overflow: hidden;
            background-color: #000000; /* Set background color to black */
        }
        
        .space {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        h1 {
            font-size: 72px;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);
            position: relative;
            margin-top: 200px;
            text-transform: uppercase;
            letter-spacing: 20px;
            font-weight: bold;
            font-style: italic;
            font-family: 'Architects Daughter', cursive;
        }
        
        .button {
            display: inline-block;
            background-color: #3498db;
            color: #fff;
            padding: 10px 20px;
            font-size: 18px;
            border-radius: 4px;
            text-decoration: none;
            transition: background-color 0.3s ease;
            margin-top: 20px;
            margin-right: 10px;
        }
        
        .button:hover {
            background-color: #2980b9;
        }
        
        .note {
            color: #fff;
            font-size: 16px;
            margin-top: 20px;
        }
        
        .circle {
            position: absolute;
            font-size: 20px;
            color: orange;
            animation: fall linear;
            z-index: -1;
        }
        
        @keyframes fall {
            0% {
                transform: translateY(-100vh);
            }
            100% {
                transform: translateY(100vh);
            }
        }
        
        .form-container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
        }
        
        textarea {
            width: 100%;
            height: 150px;
            margin-top: 10px;
            resize: none;
        }
        
        .output-container {
            margin-top: 30px;
        }
        
        .output-container textarea {
            height: 300px;
        }
    </style>
</head>
<body>
    <div class="space"></div>
    <h1>Welcome to Bitwell</h1>
    <p class="note">The dev is cooking!</p>
    <p class="note">Pay close attention to the wishes</p>
    
    <a class="button" href="https://www.ord.io/14612390">Bitwell 1.1</a>
    <a class="button" href="https://unisat.io/search?q=.well&type=text&p=1">Inscribe</a>
    <a class="button" href="https://medium.com/@djlamoon/bitwell-1-1-building-on-the-bitcoin-blockchain-to-encrypt-and-decrypt-messages-f5ef04619f3">Medium Article</a>
    <a class="button" href="https://well-2.gitbook.io/bitwell/.well">Gitbook</a>
    <a class="button" href="https://magiceden.io/ordinals/marketplace/wfw">Wishes From the Well</a>
    <a class="button" href="https://magiceden.io/ordinals/marketplace/bitp">BitPidgey's</a>

    <div class="form-container">
        <h2>Encrypt Text</h2>
        <form onsubmit="handleSubmit(event)">
            <label for="text-input">Enter Text:</label>
            <br>
            <input type="text" id="text-input" required>
            <br>
            <label for="encryption-key-input">Encryption Key:</label>
            <br>
            <input type="number" id="encryption-key-input" min="0" max="255" value="0" required>
            <br>
            <button type="submit">Convert</button>
        </form>
        <textarea id="binary-art-output" readonly></textarea>
        <span id="unique-id-display"></span>
        <a id="download-button" style="display: none;">Download Encrypted Binary Art</a>
    </div>

    <div class="form-container">
        <h2>Decrypt Binary Art</h2>
        <form onsubmit="handleDecrypt(event)">
            <label for="binary-art-input">Enter Binary Art:</label>
            <br>
            <textarea id="binary-art-input" required></textarea>
            <br>
            <label for="decryption-key-input">Decryption Key:</label>
            <br>
            <input type="number" id="decryption-key-input" min="0" max="255" value="0" required>
            <br>
            <button type="submit">Decrypt</button>
        </form>
        <div class="output-container">
            <h3>Decrypted Text:</h3>
            <textarea id="decrypted-text-output" readonly></textarea>
        </div>
    </div>

    <script>
        function convertTextToBinaryArt(text) {
            const binaryArt = [];

            for (let i = 0; i < text.length; i++) {
                const char = text.charAt(i);
                const charCode = char.charCodeAt(0);
                let binary = charCode.toString(2).padStart(8, '0');

                binary = binary.replace(/0/g, '⬛'); // Replace '0' with black square symbol
                binary = binary.replace(/1/g, '⬜'); // Replace '1' with white square symbol

                binaryArt.push(binary);
            }

            return binaryArt.join('\n');
        }

        function convertBinaryArtToText(binaryArt) {
            const lines = binaryArt.split('\n');
            let text = '';

            for (let i = 0; i < lines.length; i++) {
                const line = lines[i];
                const binaryChars = line.split(' ');
                for (let j = 0; j < binaryChars.length; j++) {
                    const binaryChar = binaryChars[j];
                    const binaryCode = binaryChar.replace(/⬛/g, '0').replace(/⬜/g, '1');
                    const charCode = parseInt(binaryCode, 2);
                    const char = String.fromCharCode(charCode);
                    text += char;
                }
            }

            return text;
        }

        function handleSubmit(event) {
            event.preventDefault();
            const textInput = document.getElementById('text-input');
            const binaryArtOutput = document.getElementById('binary-art-output');
            const uniqueIdDisplay = document.getElementById('unique-id-display');
            const downloadButton = document.getElementById('download-button');
            const encryptionKeyInput = document.getElementById('encryption-key-input');

            const text = textInput.value;
            const encryptionKey = parseInt(encryptionKeyInput.value);
            const encryptedText = encryptText(text, encryptionKey);
            const binaryArt = convertTextToBinaryArt(encryptedText);
            const uniqueId = 'db9307d21a0cc283984ed82dc2b43e4983af7e25f70d6e5afb9ef159c08c2f1ci0';

            binaryArtOutput.value = binaryArt;
            uniqueIdDisplay.textContent = `Unique ID: ${uniqueId}`;

            const encryptedHTML = `
                <!DOCTYPE html>
                <html>
                <head>
                <title>Encrypted Binary Art</title>
                </head>
                <body>
                <pre>${binaryArt}</pre>
                </body>
                </html>
            `;

            const blob = new Blob([encryptedHTML], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            downloadButton.href = url;
            downloadButton.download = 'encrypted_binary_art.html';
        }

        function encryptText(text, encryptionKey) {
            let encryptedText = '';
            for (let i = 0; i < text.length; i++) {
                const char = text.charAt(i);
                const charCode = char.charCodeAt(0);
                const encryptedCharCode = (charCode + encryptionKey) % 256;
                encryptedText += String.fromCharCode(encryptedCharCode);
            }
            return encryptedText;
        }

        function decryptText(text, encryptionKey) {
            let decryptedText = '';
            for (let i = 0; i < text.length; i++) {
                const char = text.charAt(i);
                const charCode = char.charCodeAt(0);
                const decryptedCharCode = (charCode - encryptionKey + 256) % 256;
                decryptedText += String.fromCharCode(decryptedCharCode);
            }
            return decryptedText;
        }

        function handleDecrypt(event) {
            event.preventDefault();
            const binaryArtInput = document.getElementById('binary-art-input');
            const decryptedTextOutput = document.getElementById('decrypted-text-output');
            const encryptionKeyInput = document.getElementById('decryption-key-input');

            const binaryArt = binaryArtInput.value;
            const encryptionKey = parseInt(encryptionKeyInput.value);
            const decryptedBinaryArt = convertBinaryArtToText(binaryArt);
            const decryptedText = decryptText(decryptedBinaryArt, encryptionKey);

            decryptedTextOutput.value = decryptedText;
        }
    </script>
</body>
</html>
