<!DOCTYPE html>
<html>
<head>
    <title>Wallet Connection</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <button onclick="connectWallet()">Connect Wallet</button>
    <p id="accountAddress"></p>
    <div id="inscriptions"></div>
    <script type="text/javascript">
        async function connectWallet() {
            try {
                const accounts = await window.unisat.requestAccounts();
                console.log('connect success', accounts);
                alert('Wallet connected: ' + accounts[0]);
                displayWalletInfo();
            } catch (e) {
                console.log('connect failed', e);
                alert('Failed to connect wallet');
            }
        }

        async function displayWalletInfo() {
            let accountAddress = await window.unisat.getAccounts();
            document.getElementById("accountAddress").textContent = "Account Address: " + accountAddress;

            let inscriptionsData = await window.unisat.getInscriptions(0,1000);
            let inscriptionImages = inscriptionsData.list.map(inscription => `<p class="item">${inscription.inscriptionId}</p>`);
            document.getElementById("inscriptions").innerHTML = "Inscriptions: <br>" + inscriptionImages.join('');
        }
    </script>
</body>
</html>
